<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù†</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body{
  font-family: system-ui;
  background:#f5f6fa;
  margin:0;
  padding:20px;
}
.container{
  max-width:420px;
  margin:auto;
  background:white;
  padding:20px;
  border-radius:16px;
  box-shadow:0 10px 30px rgba(0,0,0,.1);
}
h2{
  text-align:center;
  margin-bottom:20px;
}
select,button{
  width:100%;
  padding:12px;
  margin-bottom:15px;
  border-radius:10px;
  border:1px solid #ccc;
  font-size:16px;
}
button{
  background:#2f80ed;
  color:white;
  border:none;
  cursor:pointer;
}
button:hover{
  background:#1c66d0;
}
.times{
  display:none;
  margin-top:20px;
}
.time-row{
  display:flex;
  justify-content:space-between;
  padding:10px 0;
  border-bottom:1px solid #eee;
}
.label{
  font-weight:bold;
}
.footer{
  text-align:center;
  margin-top:20px;
  color:#888;
  font-size:13px;
}
</style>
</head>

<body>
<div class="container">
  <h2>ğŸ•Œ Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù†</h2>

  <select id="city">
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©</option>
    <option value="Ø§Ù„Ù†Ø¬Ù">Ø§Ù„Ù†Ø¬Ù</option>
    <option value="ÙƒØ±Ø¨Ù„Ø§Ø¡">ÙƒØ±Ø¨Ù„Ø§Ø¡</option>
    <option value="Ø¨ØºØ¯Ø§Ø¯">Ø¨ØºØ¯Ø§Ø¯</option>
    <option value="Ø§Ù„Ø¨ØµØ±Ø©">Ø§Ù„Ø¨ØµØ±Ø©</option>
  </select>

  <button onclick="showTimes()">Ø¹Ø±Ø¶ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ÙŠÙˆÙ…</button>

  <div class="times" id="timesBox">
    <div class="time-row"><span class="label">Ø§Ù„Ø¥Ù…Ø³Ø§Ùƒ</span><span id="imsak"></span></div>
    <div class="time-row"><span class="label">Ø§Ù„ÙØ¬Ø±</span><span id="fajr"></span></div>
    <div class="time-row"><span class="label">Ø§Ù„Ø¸Ù‡Ø±</span><span id="dhuhr"></span></div>
    <div class="time-row"><span class="label">Ø§Ù„Ù…ØºØ±Ø¨</span><span id="maghrib"></span></div>
    <div class="time-row"><span class="label">Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„</span><span id="midnight"></span></div>
  </div>

  <div class="footer">
    Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™
  </div>
</div>

<script>
Telegram.WebApp.ready();

async function showTimes(){
  const city=document.getElementById("city").value;
  if(!city){
    alert("Ø±Ø¬Ø§Ø¡Ù‹ Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©");
    return;
  }

  const today=new Date().toISOString().split("T")[0];

  try{
    const res=await fetch("imsakia.json");
    const data=await res.json();

    const row=data.find(r =>
      r.province===city &&
      r.date===today
    );

    if(!row){
      alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…");
      return;
    }

    document.getElementById("timesBox").style.display="block";
    document.getElementById("imsak").innerText=row.imsak;
    document.getElementById("fajr").innerText=row.fajr;
    document.getElementById("dhuhr").innerText=row.dhuhr;
    document.getElementById("maghrib").innerText=row.maghrib;
    document.getElementById("midnight").innerText=row.midnight;

  }catch(e){
    alert("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    console.error(e);
  }
}
</script>

</body>
</html>
